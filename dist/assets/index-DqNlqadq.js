(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}})();class p{constructor({shapeElemId:t="shape",generatorElemId:i="code",copyCodeId:o="copy",copiedCodeId:e="clipboard_copied",boxContainerId:s="box",widthInputId:n="width",heightInputId:h="height",enableAdvancedId:c="enable-advanced",initState:u=null,moveableElems:m}={}){this.generatorElem=document.getElementById(i),this.shapeElem=document.getElementById(t),this.copiedCode=document.getElementById(e),this.boxContainer=document.getElementById(s),this.widthInput=document.getElementById(n),this.heightInput=document.getElementById(h),this.widthInput.onchange=()=>{console.log(this.widthInput.value),this.updateState(this.widthInput.value,"width")},this.heightInput.onchange=()=>{this.updateState(this.heightInput.value,"height")},this.enableAdvanced=document.getElementById(c),this.enableAdvanced.onclick=this.enableAdvancedOnClick.bind(this),this.initState(u),this.initAdvanced(),this.initHandles(m),document.getElementById(o).onclick=this.setClipboard.bind(this)}initHandles(t){throw new Error("You have to implement the method initHandles!")}updateBorderRadius(){throw new Error("You have to implement the method updateBorderRadius!")}initState(t){throw new Error("You have to implement the method initState!")}initAdvanced(){this.state.width!==""&&this.state.height!==""&&(this.enableAdvanced.checked=!0,document.getElementById("dimension-input").classList.add("visible"))}enableAdvancedOnClick(t){this.enableAdvanced.checked?(document.getElementById("dimension-input").classList.add("visible"),this.state.width=this.boxContainer.offsetWidth,this.state.height=this.boxContainer.offsetHeight,this.updateUI()):(document.getElementById("dimension-input").classList.remove("visible"),this.updateState("","width"),this.updateState("","height"),this.boxContainer.style.height="",this.boxContainer.style.width="")}setClipboard(){navigator.clipboard.writeText(this.generatorElem.innerHTML).then(()=>{this.copiedCode.innerHTML='<div class="alert">Copied to clipboard üëç</div>'},()=>{this.copiedCode.innerHTML='<div class="alert">üíî Not Supported</div>'}),setTimeout(()=>{this.copiedCode.innerHTML=""},2e3)}setUrlHash(t){window.history&&"pushState"in window.history?history.pushState(null,null,"#"+t):window.location.hash=t}updateState(t,i){this.state[i]=t,this.updateUI()}updateUI(){this.updateBorderRadius(),this.updateBox()}updateBox(){if(!this.enableAdvanced.checked)return;console.log(this.state.width);let t=this.state.height===""?"":this.state.height+"px",i=this.state.width===""?"":this.state.width+"px";this.boxContainer.style.height=t,this.boxContainer.style.width=i,this.heightInput.value=this.state.height,this.widthInput.value=this.state.width}saveUrlParams(){throw new Error("You have to implement the method saveUrlParams!")}static loadUrlParams(t){const i=/#(\d\d?|100)\.(\d\d?|100)\.(\d\d?|100)\.(\d\d?|100)-(?:(\d\d?|100)\.(\d\d?|100)\.(\d\d?|100)\.(\d\d?|100))?-(\d*).(\d*)/gm;let o=["left","top","right","bottom","leftBottom","topRight","rightBottom","bottomRight","height","width"],e={},s;if(!i.test(t))return null;for(i.lastIndex=0;(s=i.exec(t))!==null;)s.forEach((n,h)=>{h!==0&&(e[o[h-1]]=n)});return e}}class d{constructor(t,i,o="x",e=30){this.axis=o,this.pos=e,this.elem=t,this.onChange=i,this.elem.onmousedown=this.dragMouseDown.bind(this),this.elem.ontouchstart=this.dragMouseDown.bind(this),this.setInitPos(e),this.onChange(this.pos,this.elem.id)}dragMouseDown(t){t=t||window.event,t.preventDefault(),this.currentSpan=t.target,this.currentSpan.classList.add("active"),document.onmouseup=this.closeDragElement.bind(this),document.ontouchend=this.closeDragElement.bind(this),document.onmousemove=this.elementDrag.bind(this),document.ontouchmove=this.elementDrag.bind(this)}elementDrag(t){if(t=t||window.event,typeof TouchEvent<"u"&&t instanceof TouchEvent){var i=t.changedTouches[0];this.setPos(i.clientX,i.clientY)}else this.setPos(t.clientX,t.clientY)}setInitPos(t){this.axis==="x"?this.elem.style.left=t+"%":this.elem.style.top=t+"%"}setPos(t,i){let o=this.elem.parentNode.getBoundingClientRect();this.axis==="x"?(this.pos=this.valBetween(((t-5-o.left).toFixed(0)*100/o.width).toFixed(0),0,100),this.elem.style.left=this.pos+"%"):(this.pos=this.valBetween(((i-5-o.top).toFixed(0)*100/o.height).toFixed(0),0,100),this.elem.style.top=this.pos+"%"),this.onChange(this.pos,this.elem.id)}closeDragElement(){this.currentSpan.classList.remove("active"),document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null}valBetween(t,i,o){return Math.min(o,Math.max(i,t))}}class l extends p{initState(t){let i={left:30,right:30,top:30,bottom:30,width:"",height:"",advancedMode:!1};this.state=t??i}initHandles(t){return{left:new d(t.left,this.updateState.bind(this),"y",this.state.left,this.saveUrlParams.bind(this)),right:new d(t.right,this.updateState.bind(this),"y",this.state.right,this.saveUrlParams.bind(this)),top:new d(t.top,this.updateState.bind(this),"x",this.state.top,this.saveUrlParams.bind(this)),bottom:new d(t.bottom,this.updateState.bind(this),"x",this.state.bottom,this.saveUrlParams.bind(this))}}updateBorderRadius(){var t=this.state.top+"% ";t+=100-this.state.top+"% ",t+=100-this.state.bottom+"% ",t+=this.state.bottom+"% / ",t+=this.state.left+"% ",t+=this.state.right+"% ",t+=100-this.state.right+"% ",t+=100-this.state.left+"% ",this.shapeElem.style["border-radius"]=t,this.generatorElem.innerHTML=t}saveUrlParams(){const{left:t,top:i,right:o,bottom:e,width:s,height:n}=this.state;let h=`${t}.${i}.${o}.${e}--${n}.${s}`;this.setUrlHash(h)}}var r={left:document.getElementById("left"),right:document.getElementById("right"),bottom:document.getElementById("bottom"),top:document.getElementById("top"),width:document.getElementById("width")};let g=l.loadUrlParams(window.location.href);console.log(r);console.log(window.location.href);let f=new l({moveableElems:r,initState:g});console.log(f);
